<div id="status-indicators-group">
	<div id="cash" class="sigroups">
		<image class="status-indicator-image" src="assets/icons/dollar-symbol.png" />
		<div class="status-indicators" id="cash-text">
			-
		</div>
	</div>
	<div id="food" class="sigroups">
		<image class="status-indicator-image" src="assets/icons/knife-fork.png" />
		<div class="status-indicators" id="food-text">
			-
		</div>
		<div class="status-indicators resource-alert" id="food-alert">No Food! Half-Speed!</div>
	</div>
	<div id="water" class="sigroups">
		<image class="status-indicator-image" src="assets/icons/water-droplet.png" />
		<div class="status-indicators" id="water-text">
			-
		</div>
		<div class="status-indicators resource-alert" id="water-alert">No Water! Half-Speed!</div>
	</div>
	<div id="gas" class="sigroups">
		<image class="status-indicator-image" src="assets/icons/gas-station.png" />
		<div class="status-indicators" id="gas-text">
			-
		</div>
	</div>
	<div id="treasure" class="sigroups">
		<image class="status-indicator-image" src="assets/icons/diamond.png" />
		<div class="status-indicators" id="treasure-text">
			-
		</div>
	</div>
	<div id="capacity" class="sigroups">
		<image class="status-indicator-image" src="assets/icons/barrel.png" />
		<div class="status-indicators" id="capacity-text">
			-/-
		</div>
	</div>
	<div id="chat-container">
		<div onclick="openChat()" id="closed-chat" style="padding-left:25px; width:13vh;position:relative;">
			<image src="assets/icons/speech-bubble.png" style="height:7vh;padding-top:5px;padding-bottom:5px;padding-left:5px; "/>
			<image src="assets/icons/right-arrow.png" style="height:5vh; position:absolute; right:0.3vw; bottom:1.6vh; cursor:pointer;"/>
		</div>
		<div id="open-chat-container">
			<img id="chat-back" onclick="backChat()" src="./assets/icons/left-arrow.png" />
			<img id="chat-exit" onclick="closeChat()" src="./assets/icons/close-button.png" />
			<div id="chat-title"><p>Chat</p></div>
			<hr />
			<div id="chat-content-container">
				<div id="chat-select">
					<div class="team-select team-select-enabled" id="broadcast-button">
						<p>Broadcast</p>
					</div>
				</div>
				<div id="message-content-container">
					<div class="messages" chatID="broadcast"></div>
					<div id="input-box-button">
						<input type="text" id="message-input-box">

						</input	>
						<div id="message-input-button">
							<img src="./assets/icons/send.png" />
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<div id="right-side-button-group">
	<div id="buy-sell" onclick="openBuySell()" class="right-button">
		<img class="right-image" src="./assets/icons/cart.png">
	</div>
	<div id="trade" onclick="openTradeWindow()" class="right-button">
		<img class="right-image" src="./assets/icons/handshake.png">
	</div>
	<div id="sea-captain" onclick="openCaptainWindow()" class="right-button">
		<img class="right-image" src="./assets/icons/pirate.png">
	</div>
</div>

<div id="bottom-group">
	<div id="bottom-top-group">
		<div class="sub-items" style="left:0;">
			<div class="bottom-box-container">
				<div id="team">
					<p id="team-text" class="bottom-text">Ship A</p>
				</div>
			</div>
			<div id="day">
				<p id="day-text" class="bottom-text">Day <span id="day-number-text">7</span></p>
			</div>
		</div>
		<div id="status-container">
			<div id="status-circle" class="bottom-text">
				<p id="status-text">Not Ready</p>
			</div>
		</div>
		<div class="sub-items" style="right:0;">
			<div id="weather">
				<p id="weather-text" class="bottom-text">Sunny</p>
				<image class="weather-image" id="sunny-image" src="assets/icons/sunny.png" />
				<image class="weather-image" id="rain-image" src="assets/icons/rain.png" />
			</div>
			<div class="bottom-box-container">
				<div id="location">
					<p id="location-text" class="bottom-text">Cardinal Island</p>
				</div>
			</div>
		</div>
	</div>
	<div id="loading-progress">
		<div id="loading-bar-back"> </div>
		<div id="loading-bar"> </div>
	</div>
</div>

<div id="alerts" onclick="showAlerts()">
	<p id="alerts-text" class="bottom-text">Alerts</p>
	<div id="alerts-dot"> </div>
</div>

<div class="full-size-window" id="alerts-screen">
	<div class="full-size-window-top-bar">
		<p>Alerts</p>
		<img onclick="closeAlerts()" src="./assets/icons/close-button.png" />
	</div>
	<hr class="eighty-percent-hr" />
	<div class="full-size-window-content" id="day-alert-box-container">
	</div>
</div>
<div class="full-size-window" id="buy-sell-window">
	<div class="full-size-window-top-bar">
		<p>Purchase Resources and Sell Treasure</p>
		<img onclick="closeBuySell()" src="./assets/icons/close-button.png" />
	</div>
	<hr class="eighty-percent-hr" />
	<div class="full-size-window-content" id="buy-sell-window-content">
		<div id="buy-food">
			<div class="buy-items-line" style="margin-top:4vh;">
				<div class="buy-title"><p>Buy Food</p></div>
				<div class="cost"><p>$25 per unit</p></div>
				<img class="buy-sell-minus" src="assets/icons/minus.png" />
				<div class="how-many-buying"><p>0</p></div>
				<img class="buy-sell-plus" src="assets/icons/plus.png" />
			</div>
		</div>
		<div id="buy-water">
			<div class="buy-items-line">
				<div class="buy-title"><p>Buy Water</p></div>
				<div class="cost"><p>$25 per unit</p></div>
				<img class="buy-sell-minus" src="assets/icons/minus.png" />
				<div class="how-many-buying"><p>0</p></div>
				<img class="buy-sell-plus" src="assets/icons/plus.png" />
			</div>
		</div>
		<div id="buy-gas">
			<div class="buy-items-line">
				<div class="buy-title"><p>Buy Gas</p></div>
				<div class="cost"><p>$25 per unit</p></div>
				<img class="buy-sell-minus" src="assets/icons/minus.png" />
				<div class="how-many-buying"><p>0</p></div>
				<img class="buy-sell-plus" src="assets/icons/plus.png" />
			</div>
		</div>
		<div id="sell-treasure">
			<div class="buy-items-line">
				<div class="buy-title"><p>Sell Treasure</p></div>
				<div class="cost"><p>$25 per unit</p></div>
				<img class="buy-sell-minus" src="assets/icons/minus.png" />
				<div class="how-many-buying"><p>0</p></div>
				<img class="buy-sell-plus" src="assets/icons/plus.png" />
			</div>
		</div>
		<div class="buy-submit-button"><p>Submit</p></div>
	</div>
</div>
<div class="full-size-window" id="trade-window">
	<div class="full-size-window-top-bar">
		<p>Trade</p>
		<img onclick="closeTradeWindow()" src="./assets/icons/close-button.png" />
	</div>
	<hr class="eighty-percent-hr" />
	<div class="full-size-window-content" id="trade-window-content">
		<div id="trade-team-select-container">
		</div>
		<div id="trade-items-select">
			<div id="trade-item-select-title">
				<p style="margin:0">Trading with Ship-B</p>
			</div>
			<div id="trade-receive-container">
				<div id="trade-in">
					<p id="trade-in-title">Trade in</p>
					<div class="buy-items-line trade-item-line">
						<div class="buy-title trade-item-title"><p>Cash</p></div>
						<img src="assets/icons/minus.png" />
						<div class="how-many-buying"><p>0</p></div>
						<img src="assets/icons/plus.png" />
					</div>
					<div class="buy-items-line trade-item-line">
						<div class="buy-title trade-item-title"><p>Food</p></div>
						<img src="assets/icons/minus.png" />
						<div class="how-many-buying"><p>0</p></div>
						<img src="assets/icons/plus.png" />
					</div>
					<div class="buy-items-line trade-item-line">
						<div class="buy-title trade-item-title"><p>Water</p></div>
						<img src="assets/icons/minus.png" />
						<div class="how-many-buying"><p>0</p></div>
						<img src="assets/icons/plus.png" />
					</div>
					<div class="buy-items-line trade-item-line">
						<div class="buy-title trade-item-title"><p>Gas</p></div>
						<img src="assets/icons/minus.png" />
						<div class="how-many-buying"><p>0</p></div>
						<img src="assets/icons/plus.png" />
					</div>
					<div class="buy-items-line trade-item-line">
						<div class="buy-title trade-item-title"><p>Treasure</p></div>
						<img src="assets/icons/minus.png" />
						<div class="how-many-buying"><p>0</p></div>
						<img src="assets/icons/plus.png" />
					</div>
				</div>
				<div id="to-receive">
					<p id="to-receive-title">To Receive</p>
					<div class="buy-items-line trade-item-line">
						<div class="buy-title trade-item-title"><p>Cash</p></div>
						<img src="assets/icons/minus.png" />
						<div class="how-many-buying"><p>0</p></div>
						<img src="assets/icons/plus.png" />
					</div>
					<div class="buy-items-line trade-item-line">
						<div class="buy-title trade-item-title"><p>Food</p></div>
						<img src="assets/icons/minus.png" />
						<div class="how-many-buying"><p>0</p></div>
						<img src="assets/icons/plus.png" />
					</div>
					<div class="buy-items-line trade-item-line">
						<div class="buy-title trade-item-title"><p>Water</p></div>
						<img src="assets/icons/minus.png" />
						<div class="how-many-buying"><p>0</p></div>
						<img src="assets/icons/plus.png" />
					</div>
					<div class="buy-items-line trade-item-line">
						<div class="buy-title trade-item-title"><p>Gas</p></div>
						<img src="assets/icons/minus.png" />
						<div class="how-many-buying"><p>0</p></div>
						<img src="assets/icons/plus.png" />
					</div>
					<div class="buy-items-line trade-item-line">
						<div class="buy-title trade-item-title"><p>Treasure</p></div>
						<img src="assets/icons/minus.png" />
						<div class="how-many-buying"><p>0</p></div>
						<img src="assets/icons/plus.png" />
					</div>
				</div>
			</div>
			<div id="trade-button-container">
				<div onclick="backTrade()" id="choose-another-team">
					<p>Choose another team</p>
				</div>
				<div id="send-offer">
					<p>Send offer</p>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="full-size-window" id="captain-window">
	<div class="full-size-window-top-bar">
		<p>Sea Captain</p>
		<img onclick="closeCaptainWindow()" src="./assets/icons/close-button.png" />
	</div>
	<hr class="eighty-percent-hr" />
	<div class="full-size-window-content" id="captain-window-content" >
		<div id="captain-face">
			<!-- image inserted as background div -->
		</div>
		<div id="buttons-and-message">
			<div id="captains-buttons-container">
				<div id="instructions">
					<p>What would you like to ask me about?</p>
				</div>
				<div class="captains-buttons" id="sea-captain-weather-button">
					<p>Weather</p>
				</div>
				<div class="captains-buttons" id="sea-captain-pirates-button">
					<p>Pirates</p>
				</div>
			</div>
			<div onclick="expandText(this)" id="captains-message">
				<p>SEA CAPTAIN'S MESSAGE HERE</p>
			</div>
		</div>
	</div>
</div>

<div id="largeTextDisplay">
	<img id="chat-exit" onclick="closeExpandedText()" src="./assets/icons/close-button.png" />
	<p>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas eu augue imperdiet nisi porttitor ultrices sed sed ipsum.
	</p>

</div>

<script src="js/lib/Howler/howler.core.js"></script>
<script src="js/player/Sounds.js"></script>
<script src="js/lib/notify.min.js"></script>
<script src="js/player/notifications.js"></script>
<script src="js/lib/jquery-ui.min.js"></script>
<script>
	var chatIsClosed = true;
	var windowWidthWhenChatIsClosed = ["80vw","50%"] //[width,left]
	var windowWidthWhenChatIsOpen = ["60vw","61%"]; //[width,left]
	var othersAreClosed = true;
	var alertsScreen = document.getElementById("alerts-screen");
	var buySellWindow = document.getElementById("buy-sell-window");
	var captainWindow = document.getElementById("captain-window");
	var tradeWindow = document.getElementById("trade-window");
	var buySellEnabled = false;
	var tradeEnabled = false;
	var seaCaptainEnabled = false;
	var openChatID = false;
	window.sounds = new Sounds();
	//this is how you make a notification
	/*
	setTimeout(()=>{
						window.notifications = new Notifications();
						window.notifications.newMessage("hey ship a!!");
						window.notifications.newMessage("hey ship a!!");
						window.notifications.newMessage("hey ship a!!");
						window.notifications.newMessage("hey ship a!!");
					},4000);
	*/
	window.sounds.fadeInOut("dockedAmbience", 0, sounds.ambientNoiseVolume, 6000);
	// respond to user interaction through this script
	function closeChat(){
		document.getElementById("open-chat-container").style.display = "none";
		document.getElementById("closed-chat").style.display = "flex";
		chatIsClosed = true;
		setWidth();
	}
	function openChat(){
		document.getElementById("open-chat-container").style.display = "inline-block";
		document.getElementById("closed-chat").style.display = "none";
		chatIsClosed = false;
		setWidth();
	}
	function backChat(){ /*function that allows user to select team to chat with*/
		document.getElementById("message-content-container").style.display = "none";
		document.getElementById("chat-select").style.display = "flex";
		document.getElementById("chat-back").style.display = "none";
	}
	function expandText(element){
		document.getElementById("largeTextDisplay").style.display = "initial";
		document.getElementById("largeTextDisplay").childNodes[3].innerHTML = element.querySelector("p").innerHTML.trim();
	}
	function showAlerts(){
		setWidth();
		closeOthers();
		alertsScreen.style.display = "flex";
		othersAreClosed = false;
		var alertContainer = document.getElementById("day-alert-box-container");
		alertContainer.scrollTop = alertContainer.scrollHeight;
		sounds.fadeInOut("buoyBells", 0, 0, 0); 
		alertsFlash(false);
	}
	/*
	function readyPressed(){
		var readyButton = document.getElementById("status-circle");
		var readyText = document.getElementById("status-text");
		if(window.getComputedStyle(readyButton).backgroundColor == "rgba(214, 51, 51, 0.85)") {
			readyText.innerHTML = "Ready";
			readyButton.style.backgroundColor = "rgba(72, 209, 54, 0.85)";
			Map3D.PassDay();
			// sounds.fadeInOut("buoyBells", 0, 1, 5000); //timing is off, need for way to have a callback on passday
			// showAlerts();
			alertsFlash(true);
		} else {
			readyText.innerHTML = "Not Ready";
			readyButton.style.backgroundColor = "rgba(214, 51, 51, 0.85)";
		}
	}
	*/
	function alertsFlash(flash){
		alerts = document.getElementById("alerts-dot");
		if(flash){
			alerts.style.display = "initial";
		}
		else{
			alerts.style.display = "none";
		}
	}
	function openBuySell(){
		if (buySellEnabled)
		{
			setWidth();
			closeOthers();
			buySellWindow.style.display = "flex";
			othersAreClosed = false;
		}
	}
	function openCaptainWindow(){
		if (seaCaptainEnabled)
		{
			setWidth();
			closeOthers();
			captainWindow.style.display = "flex";
			othersAreClosed = false;
		}
	}
	function openTradeWindow(){
		if (tradeEnabled)
		{
			setWidth();
			closeOthers();
			tradeWindow.style.display = "flex";
			othersAreClosed = false;
		}
	}
	function closeExpandedText(){
		document.getElementById("largeTextDisplay").style.display = "none";
	}
	function closeAlerts(){
		alertsScreen.style.display = "none";
		othersAreClosed = true;
	}
	function closeBuySell(){
		buySellWindow.style.display = "none";
		othersAreClosed = true;
	}
	function closeCaptainWindow(){
		captainWindow.style.display = "none";
		othersAreClosed = true;
	}
	function closeTradeWindow(){
		tradeWindow.style.display = "none";
		othersAreClosed = true;
	}
	function closeOthers(){ //closes all potentially open windows
		closeAlerts();
		closeBuySell();
		closeCaptainWindow();
		closeTradeWindow();
		othersAreClosed = true;
	}
	function backTrade(){
		document.getElementById("trade-items-select").style.display = "none";
		document.getElementById("trade-team-select-container").style.display = "flex";
	}
	/*
	function showCaptainsMessage(){
		document.getElementById("captains-buttons-container").style.display = "none";
		document.getElementById("captains-message").style.display = "flex";
		sounds.fadeInOut(sounds.piratesArrgh, 0, 1, 0);
	}
	*/
	function setWidth(){
			if(!chatIsClosed){
				alertsScreen.style.width = windowWidthWhenChatIsOpen[0];
				alertsScreen.style.left = windowWidthWhenChatIsOpen[1];
				buySellWindow.style.width = windowWidthWhenChatIsOpen[0];
				buySellWindow.style.left = windowWidthWhenChatIsOpen[1];
				captainWindow.style.width = windowWidthWhenChatIsOpen[0];
				captainWindow.style.left = windowWidthWhenChatIsOpen[1];
				tradeWindow.style.width = windowWidthWhenChatIsOpen[0];
				tradeWindow.style.left = windowWidthWhenChatIsOpen[1];
			}
			else{
				alertsScreen.style.width = windowWidthWhenChatIsClosed[0];
				alertsScreen.style.left = windowWidthWhenChatIsClosed[1];
				buySellWindow.style.width = windowWidthWhenChatIsClosed[0];
				buySellWindow.style.left = windowWidthWhenChatIsClosed[1];
				captainWindow.style.width = windowWidthWhenChatIsClosed[0];
				captainWindow.style.left = windowWidthWhenChatIsClosed[1];
				tradeWindow.style.width = windowWidthWhenChatIsClosed[0];
				tradeWindow.style.left = windowWidthWhenChatIsClosed[1];
			}
	}
</script>
